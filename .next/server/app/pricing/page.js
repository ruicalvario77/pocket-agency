(()=>{var e={};e.id=907,e.ids=[907],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12897:(e,t,r)=>{Promise.resolve().then(r.bind(r,50224))},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27428:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(45512),n=r(58009),a=r(60131),i=r(69324),o=r(17656),l=r(79334);let c=()=>{let[e,t]=(0,n.useState)(!1),[r,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),[p,x]=(0,n.useState)(""),[m,h]=(0,n.useState)(null),[g,b]=(0,n.useState)(!0),f=(0,n.useRef)(null),v=(0,l.useRouter)();(0,n.useEffect)(()=>{let e=(0,i.hg)(a.j,async e=>{if(!e){console.log("No user found, redirecting to /auth/login"),v.push("/auth/login");return}let t=(0,o.H9)(a.db,"users",e.uid),r=await (0,o.x7)(t);if(!r.exists()){console.log("User document not found, redirecting to /auth/login"),v.push("/auth/login");return}let s=r.data()?.role;if(h(s),"customer"!==s){"superadmin"===s?v.push("/superadmin"):"admin"===s?v.push("/admin"):"contractor"===s&&v.push("/dashboard");return}b(!1)});return()=>e()},[v]);let y=async e=>{if(!p&&!a.j.currentUser){alert("Please enter an email address to subscribe.");return}t(!0);let r=a.j.currentUser,s=null;r&&(s=await r.getIdToken());try{let t=await fetch("/api/payfast-subscribe",{method:"POST",headers:{...s&&{Authorization:`Bearer ${s}`},"Content-Type":"application/json"},body:JSON.stringify({plan:e,email:p||r?.email})});if(console.log("Fetch response status:",t.status),!t.ok){let e=await t.json();throw Error(e.error||"Failed to initiate subscription")}let{paymentData:n,signature:a}=await t.json();console.log("Payment data received:",n,"Signature:",a),c(n),u(a)}catch(t){let e="An unexpected error occurred";t instanceof Error&&(e=t.message),console.error("Subscription error:",t),alert(e||"An error occurred while initiating your subscription.")}finally{t(!1)}};return((0,n.useEffect)(()=>{r&&d&&f.current&&(console.log("Submitting PayFast form with data:",r,"Signature:",d),f.current.submit())},[r,d]),g)?(0,s.jsx)("div",{className:"text-center text-gray-500 mt-10",children:"Loading..."}):m&&"customer"===m?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100 pt-20",children:[(0,s.jsxs)("section",{className:"max-w-6xl mx-auto py-16 px-6",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-blue-600 text-center mb-8",children:"Choose Your Plan"}),(0,s.jsx)("p",{className:"text-lg text-gray-600 text-center mb-12",children:"Affordable subscriptions for top-tier design and development services."}),(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("input",{type:"email",placeholder:"Enter your email",value:p,onChange:e=>x(e.target.value),className:"border p-2 rounded w-64",required:!0,disabled:!!a.j.currentUser}),a.j.currentUser&&(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Using ",a.j.currentUser.email]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-600 mb-4",children:"Basic Plan"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-800 mb-2",children:"R3000"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"per month"}),(0,s.jsxs)("ul",{className:"text-gray-600 mb-6 space-y-2",children:[(0,s.jsx)("li",{children:"✓ Custom Website Design"}),(0,s.jsx)("li",{children:"✓ Basic Support"}),(0,s.jsx)("li",{children:"✓ 1 Project Slot"})]}),(0,s.jsx)("button",{onClick:()=>y("basic"),disabled:e,className:`w-full py-3 px-6 rounded-lg text-white font-semibold transition ${e?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:e?"Processing...":"Confirm Plan"})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-600 mb-4",children:"Pro Plan"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-800 mb-2",children:"R8000"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"per month"}),(0,s.jsxs)("ul",{className:"text-gray-600 mb-6 space-y-2",children:[(0,s.jsx)("li",{children:"✓ Advanced Website Design"}),(0,s.jsx)("li",{children:"✓ Web Development"}),(0,s.jsx)("li",{children:"✓ Priority Support"}),(0,s.jsx)("li",{children:"✓ 3 Project Slots"})]}),(0,s.jsx)("button",{onClick:()=>y("pro"),disabled:e,className:`w-full py-3 px-6 rounded-lg text-white font-semibold transition ${e?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:e?"Processing...":"Confirm Plan"})]})]})]}),r&&d&&(0,s.jsxs)("form",{ref:f,action:"https://sandbox.payfast.co.za/eng/process",method:"POST",className:"hidden",children:[r.map(([e,t],r)=>(0,s.jsx)("input",{type:"hidden",name:e,value:t},`${e}-${r}`)),(0,s.jsx)("input",{type:"hidden",name:"signature",value:d})]})]}):null}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29971:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(70260),n=r(28203),a=r(25155),i=r.n(a),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["pricing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,50224)),"/workspaces/pocket-agency/src/app/pricing/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,89771)),"/workspaces/pocket-agency/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/workspaces/pocket-agency/src/app/pricing/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/pricing/page",pathname:"/pricing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},42401:(e,t,r)=>{Promise.resolve().then(r.bind(r,27428))},50224:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/pocket-agency/src/app/pricing/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/pocket-agency/src/app/pricing/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},56031:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/pocket-agency/src/app/components/Navbar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/pocket-agency/src/app/components/Navbar.tsx","default")},56893:(e,t,r)=>{Promise.resolve().then(r.bind(r,69579))},60131:(e,t,r)=>{"use strict";r.d(t,{db:()=>l,j:()=>o});var s=r(46722),n=r(69324),a=r(17656);let i=(0,s.Wp)({apiKey:"AIzaSyC7SlX_6Svqyr5niMcfCH4OaaZ0uTSxQ1U",authDomain:"pocket-agency-auth.firebaseapp.com",projectId:"pocket-agency-auth",storageBucket:"pocket-agency-auth.firebasestorage.app",messagingSenderId:"358439219070",appId:"1:358439219070:web:515eed3a57c704f27e4d2f",measurementId:"G-RZW27NK4XZ"}),o=(0,n.xI)(i),l=(0,a.aU)(i)},61135:()=>{},61629:(e,t,r)=>{Promise.resolve().then(r.bind(r,56031))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64110:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,57174,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,48429,23)),Promise.resolve().then(r.t.bind(r,61365,23))},69579:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(45512),n=r(58009),a=r(60131),i=r(69324),o=r(79334);function l(){let[e,t]=(0,n.useState)(null),r=(0,o.useRouter)(),l=async()=>{await (0,i.CI)(a.j),r.push("/auth/login")};return(0,s.jsx)("nav",{className:"bg-white shadow-md py-4 fixed top-0 left-0 w-full z-50",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-blue-600",children:"Pocket Agency"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("a",{href:"#home",className:"text-gray-700 hover:text-blue-600 mx-2",children:"Home"}),(0,s.jsx)("a",{href:"#services",className:"text-gray-700 hover:text-blue-600 mx-2",children:"Services"}),(0,s.jsx)("a",{href:"/pricing",className:"text-gray-700 hover:text-blue-600 mx-2",children:"Pricing"}),(0,s.jsx)("a",{href:"#contact",className:"text-gray-700 hover:text-blue-600 mx-2",children:"Contact"}),e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("a",{href:"/dashboard",className:"text-gray-700 hover:text-blue-600 mx-2",children:"Dashboard"}),(0,s.jsx)("button",{onClick:l,className:"text-gray-700 hover:text-blue-600 mx-2",children:"Logout"})]}):(0,s.jsx)("a",{href:"/auth/login",className:"text-gray-700 hover:text-blue-600 mx-2",children:"Login"})]})]})})}},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(88077);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78022:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,40802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,81601,23)),Promise.resolve().then(r.t.bind(r,88921,23))},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},89771:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>d});var s=r(62740),n=r(2202),a=r.n(n),i=r(64988),o=r.n(i);r(61135);var l=r(56031);function c(){return(0,s.jsx)("footer",{className:"bg-gray-100 text-gray-600 text-center py-4 mt-10",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Pocket Agency. All rights reserved. |"," ",(0,s.jsx)("a",{href:"#contact",className:"text-blue-600 hover:underline",children:"Contact Us"})]})})}let d={title:"Pocket Agency",description:"Your AI-powered design and web development solution."};function u({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{className:`${a().variable} ${o().variable} antialiased`,children:[(0,s.jsx)(l.default,{}),(0,s.jsx)("main",{className:"max-w-6xl mx-auto p-6",children:e}),(0,s.jsx)(c,{})]})})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[994,599,77],()=>r(29971));module.exports=s})();